# https://docs.google.com/spreadsheets/d/1XZdfuUlACFeA5fPuh8J15eKgNshtirq-eh3oi3ZnhmM
# по умолчанию все методы отключены


# сервер со всеми параметрами по умолчанию

server {}


 server
		  {
#будем слушать несколько хостов и портов
	 listen 1.2.3.4 345;listen 1.2.3.4 365
	  ;

listen 1.2.3.5 243;listen 1.2.3.6 243;

server_name name1 name2 name3;

	index aaa bbb ccc;
	methods GET;
	autoindex on;
	root new/rooot;

	body_size 5646654;
#несколько страниц ошибок
	error_page 412 523 500 er1.html;
	error_page 503 er2.html;
#редирект с одним параметром, будет 302 код
	return www.ya.ru;
#ещё один, не должен переписать предыдущий
	return 303 www.google.com;
#в этом location переопределяются параметры
	cgi php php;
	location /aaa {
		methods DELETE;
		root a/rooot;
		autoindex off;
		body_size 1234;
		#дополнение списка ошибок блока родителя
		error_page 505 506 er3.html;
		return 303 www.google.com;

		cgi py jjjjjjjj;
		#все параметры кроме return и methods будут как у aaa
		location /aaa/ddd{
			methods POST;
			cgi go go;
		}

	}
	directory_page eeeeeeeeeeeee;
	upload_store aaaaaaaaaaa;
# a в этом нет
	location /bbb {}
}


# много вложенных location
server {
	server_name nested;
	location /aaa{
		location /aaa/bbb{
			location /aaa/bbb/ccc{body_size 777;}
		}
		location /aaa/ddd { location /aaa/ddd/eee{ location /aaa/ddd/eee/fff{ root roooooot; location /aaa/ddd/eee/fff/xxx {}}}}
		location /aaa/eee { methods POST;}
	}

}
