
# сервер со всеми параметрами по умолчанию

server {}


 server
		  {
#будем слушать несколько хостов и портов
	 listen 127.0.0.1 345;listen 365
	  ;

server_name name1 name2 localhost;

	index aaa bbb ccc;
	methods GET;
	autoindex on;
	root new/rooot;

	body_size 5646654;
#несколько страниц ошибок
	error_page 412 523 500 er1.html;
	error_page 503 er2.html;
#редирект с одним параметром, будет 302 код
	return www.ya.ru;
#ещё один, не должен переписать предыдущий
	return 303 www.google.com;
#в этом location переопределяются параметры
	location aaa {
		methods DELETE;
		root a/rooot;
		autoindex off;
		body_size 1234;
		#дополнение списка ошибок блока родителя
		error_page 505 506 er3.html;
		return 303 www.google.com;


		#все параметры кроме return и methods будут как у aaa
		location ccc{
			methods POST;
		}

	}

# a в этом нет
	location bbb {}
}


# много вложенных location
server {
	location aaa{
		location bbb{
			location ccc{body_size 777;}
		}
		location ddd { location eee{ location fff{ root roooooot; location xxx {}}}}
		location eee { methods POST;}
	}

}
